rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Only allow access to the 'articles' collection
    match /articles/{articleId} {
      // Anyone can read the articles
      allow read: if true;
      
      // Anyone can write, but they MUST provide title, url, and content.
      // In a real application, you would restrict this to authenticated users
      // with: allow write: if request.auth != null && ...
      allow write: if request.resource.data.title is string &&
                      request.resource.data.url is string &&
                      request.resource.data.content is string;
    }
    
    // Deny all other access to prevent unauthorized writes
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
